<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      >
    
    
    <h:form id ="formtable">
        <!--don't remove this form and the page have only one p:message or p:growl, so, don't change this -->
        <h:form id="msgform">
            <p:messages id="messages" showDetail="false" autoUpdate="true"  closable="true" >
                <p:effect type="pulsate" event="load" delay="1000" />
            </p:messages>  
         
        <!--
             <p:growl id="growl" showDetail="false" life="1000" sticky="true"  />
        -->
         
        </h:form>
  
        
        <p:dataTable  id ="tableitems" var="item" value="#{produtoDAO.produtos}">
            <p:column headerText="Id" width="8%"  >
                <h:outputText value="#{item.idProduto}" />
               </p:column>
               <p:column headerText="Nome">
                   <h:outputText value="#{item.nome}" />
               </p:column>
               <p:column headerText="Marca">
                   <h:outputText value="#{item.marca}" />
               </p:column>
               <p:column headerText="Quantidade">
                   <h:outputText value="#{item.quantidade}" />
               </p:column>
           
               <p:column headerText="Tipo">
                   <h:outputText value="#{item.tipo}" />
               </p:column>
            
              <p:column headerText="CodeBarra">
                  <h:outputText value="#{item.codBarra}" />
               </p:column>
               <p:column headerText="valor unitario">
                   <h:outputText value="#{item.valorUnitario}" />
               </p:column>

             <p:column headerText="Remover" style="width: 100px; text-align: center">
                        <!--Remove pedido-->
                        <p:commandButton widgetVar="" icon="ui-icon-trash" id="ajax" process="@this" update="tableitems" action="#{produtoDAO.RemoverProduto}" >
                            <f:param name="idProduto" value="#{item.idProduto}"/>
                              <p:confirm header="Confirmação" message="Deseja deletar ?"/>
                          </p:commandButton>
                        
                        
                        <p:confirmDialog  global="true" showEffect="fade" hideEffect="fade">
                                <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                <p:commandButton  value="Nao" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>
               </p:column>
            

            
         </p:dataTable>
    </h:form>
    
</html>